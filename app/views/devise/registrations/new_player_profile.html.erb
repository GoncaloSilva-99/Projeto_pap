<body class="bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center p-4">
    <div class="max-w-md w-full">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="text-center mb-8 mt-8">
                <%= link_to root_path do %>
                    <%= image_tag "logo_sem_texto.png", alt: "Logo", class: "mx-auto mb-4", height: 70, width: 70 %>
                <% end %>
                <p class="text-indigo-100 font-bold mt-2">Crie a sua conta de jogador</p>
            </div>
            <!-- Progress Steps -->
            <div class="flex justify-between items-center mt-6 mb-8 px-10 relative">
                <div class="absolute left-[calc(12.5%)] right-[calc(12.5%)] top-4 h-1 bg-gray-700 -z-10">
                    <div class="h-full bg-primary-500 progress-line" style="width: 0%"></div>
                </div>
                <div class="step active" data-step="1">
                    <div class="w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center text-white font-medium mx-auto transition-all duration-300">1</div>
                    <p class="text-xs mt-1 text-gray-400 transition-all duration-300">Conta</p>
                </div>
                <div class="step" data-step="2">
                    <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-gray-400 font-medium mx-auto transition-all duration-300">2</div>
                    <p class="text-xs mt-1 text-gray-400 transition-all duration-300">Perfil</p>
                </div>
                <div class="step" data-step="3">
                    <div class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-gray-400 font-medium mx-auto transition-all duration-300">3</div>
                    <p class="text-xs mt-1 text-gray-400 transition-all duration-300">Criar</p>
                </div>
            </div>
</div>
        
        <!-- Multi-step Form -->
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: "space-y-4", id: "multiStepForm" }) do |f| %>
            <!-- Step 1 -->
            <div class="step-content" data-step="1">
                <!-- Email -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Email</label>
                    <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder: "sportX@gmail.com" %>
                </div>
                <!-- Password -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Password</label>
                    <%= f.password_field :password, autocomplete: "new-password", class: "w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder:"••••••••" %>
                </div>
                <!-- Confirmar Password -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Confirmar Password</label>
                    <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder:"••••••••" %>
                </div>

                <div class="pt-4">
                    <button type="button" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-md transition-all duration-300 hover:scale-[1.02] active:scale-95 shadow-lg hover:shadow-primary-500/30 next-step" data-next="2">
                        Continuar
                    </button>
                </div>
            
            
        </div>

            <!-- Step 2 -->
        <%= f.fields_for :player_profile_attributes do |pp| %>
            <div class="step-content hidden" data-step="2">
                <!-- Nome -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Nome</label>
                    <%= pp.text_field :name, class:"w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder:"Insira aqui o seu nome" %>
                </div>
                <!-- Data de nascimento -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Data de nascimento</label>
                    <%= pp.date_field :birth_date, class:"w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent" %>
                </div>
                <!-- Posição -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Posição</label>
                    <%= pp.text_field :position, class:"w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder:"Insira aqui a sua posição: p.e Guarda Redes" %>
                </div>
                <!-- Biografia -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Biografia</label>
                    <%= pp.textarea :bio, class:"w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder:"Escreva aqui a sua biografia. Esta informação estará pública no seu perfil" %>
                </div>
                <!-- Contacto -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Contacto</label>
                    <%= pp.number_field :contact, class:"w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder:"Insira aqui o seu seu contacto" %>
                </div>
                <!-- Contacto dos pais -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Contacto dos pais</label>
                    <%= pp.number_field :parents_contact, class:"w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent", placeholder:"Insira aqui o contacto do carregado de educação (opcional)" %>
                </div>

                <div class="flex justify-between pt-4">
                    <button type="button" class="w-32 bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-md transition-all duration-300 hover:scale-[1.02] active:scale-95 shadow-lg prev-step" data-prev="1">
                        Voltar
                    </button>
                    <button type="button" class="w-32 bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-md transition-all duration-300 hover:scale-[1.02] active:scale-95 shadow-lg hover:shadow-primary-500/30 next-step" data-next="3">
                        Continuar
                    </button>
</div>
            </div>
                    

            <!-- Step 3 -->
            <div class="step-content hidden" data-step="3">
                <!-- Profile Picture -->
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Profile Picture</label>
                    <input type="file" id="profilePicture" class="w-full bg-gray-800 rounded-md px-4 py-2 text-white border border-gray-700 focus:ring-2 focus:ring-secondary-500 focus:border-transparent file:mr-4 file:py-1 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-500 file:text-white" accept="image/*">
                </div>
                <!-- Subscription -->
                <div class="flex items-center">
                    <input id="subscribe" type="checkbox" class="h-4 w-4 text-primary-500 focus:ring-primary-500 border-gray-600 rounded bg-gray-800">
                    <label for="subscribe" class="ml-2 block text-sm text-gray-300">Subscribe to newsletter</label>
                </div>

                <!-- Terms -->
                <div class="flex items-start">
                    <input id="terms" type="checkbox" class="h-4 w-4 text-primary-500 focus:ring-primary-500 border-gray-600 rounded bg-gray-800 mt-1" required>
                    <label for="terms" class="ml-2 block text-sm text-gray-300">I agree to the <a href="#" class="text-primary-500 hover:underline">Terms of Service</a> and <a href="#" class="text-primary-500 hover:underline">Privacy Policy</a></label>
                </div>

                <div class="flex justify-between pt-4">
                    <button type="button" class="w-32 bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-md transition-all duration-300 hover:scale-[1.02] active:scale-95 shadow-lg prev-step" data-prev="2">
                        Voltar
                    </button>
                    <%= f.submit "Criar Conta", class:"w-32 bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-md transition-all duration-300 hover:scale-[1.02] active:scale-95 shadow-lg hover:shadow-primary-500/30" %>
        
</div>
            </div>
<div class="text-center text-sm text-gray-400">
                Already have an account? <a href="#" class="text-primary-500 hover:underline font-medium">Sign in</a>
            </div>
            <% end %>




        <!-- Social Login -->
        <div class="mt-8">
            <div class="relative flex py-4 items-center">
                <div class="flex-grow border-t border-gray-700"></div>
                <span class="flex-shrink mx-4 text-gray-400">OR</span>
                <div class="flex-grow border-t border-gray-700"></div>
            </div>
            <div class="flex justify-center gap-4">
<button type="button" class="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path>
                    </svg>
                </button>
                <button type="button" class="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"></path>
                    </svg>
                </button>
                <button type="button" class="bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200 flex items-center justify-center">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const form = document.getElementById('multiStepForm');
                const steps = document.querySelectorAll('.step');
                const stepContents = document.querySelectorAll('.step-content');

                // Next step button click handler
                document.querySelectorAll('.next-step').forEach(button => {
                    button.addEventListener('click', function() {
                        const currentStep = document.querySelector('.step-content:not(.hidden)').dataset.step;
                        const nextStep = this.dataset.next;
                        
                        // Validate current step before proceeding
                        if (validateStep(currentStep)) {
                            document.querySelector(`.step-content[data-step="${currentStep}"]`).classList.add('hidden');
                            document.querySelector(`.step-content[data-step="${nextStep}"]`).classList.remove('hidden');
                            // Update progress indicators and line
                            steps.forEach(step => {
                                if (parseInt(step.dataset.step) <= parseInt(nextStep)) {
                                    step.classList.add('active');
                                    step.querySelector('div').classList.remove('bg-gray-700', 'text-gray-400');
                                    step.querySelector('div').classList.add('bg-primary-500', 'text-white');
                                } else {
                                    step.classList.remove('active');
                                    step.querySelector('div').classList.add('bg-gray-700', 'text-gray-400');
                                    step.querySelector('div').classList.remove('bg-primary-500', 'text-white');
                                }
                            });
                            
                            // Update progress line
                            const progressLine = document.querySelector('.progress-line');
                            const totalSteps = steps.length;
                            const completedSteps = parseInt(nextStep) - 1;
                            const progressPercentage = (completedSteps / (totalSteps - 1)) * 100;
                            progressLine.style.width = `${progressPercentage}%`;
}
                    });
                });

                // Previous step button click handler
                document.querySelectorAll('.prev-step').forEach(button => {
                    button.addEventListener('click', function() {
                        const currentStep = document.querySelector('.step-content:not(.hidden)').dataset.step;
                        const prevStep = this.dataset.prev;
                        
                        document.querySelector(`.step-content[data-step="${currentStep}"]`).classList.add('hidden');
                        document.querySelector(`.step-content[data-step="${prevStep}"]`).classList.remove('hidden');
                            // Update progress indicators and line
                            steps.forEach(step => {
                                if (parseInt(step.dataset.step) <= parseInt(prevStep)) {
                                    step.classList.add('active');
                                    step.querySelector('div').classList.remove('bg-gray-700', 'text-gray-400');
                                    step.querySelector('div').classList.add('bg-primary-500', 'text-white');
                                } else {
                                    step.classList.remove('active');
                                    step.querySelector('div').classList.add('bg-gray-700', 'text-gray-400');
                                    step.querySelector('div').classList.remove('bg-primary-500', 'text-white');
                                }
                            });
                            
                            // Update progress line
                            const progressLine = document.querySelector('.progress-line');
                            const totalSteps = steps.length;
                            const completedSteps = parseInt(prevStep) - 1;
                            const progressPercentage = (completedSteps / (totalSteps - 1)) * 100;
                            progressLine.style.width = `${progressPercentage}%`;
});
                });

                // Form submission
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    if (validateForm()) {
                        // Form is valid, submit data
                        console.log('Form submitted successfully');
                        alert('Account created successfully!');
                        // Here you would typically send data to server
                    }
                });
                function validateStep(step) {
                    // Skip validation as requested
                    return true;
                }
function validateForm() {
                    if (!document.getElementById('terms').checked) {
                        alert('You must agree to the Terms of Service and Privacy Policy');
                        return false;
                    }
                    return true;
                }
            });
        </script>
        <style>
            .step.active p {
                color: #6366f1;
            }
            .step-content {
                transition: all 0.3s ease;
                animation: fadeIn 0.5s ease;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .progress-line {
                transition: width 0.5s ease;
            }
        </style>

            <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#6366f1',
                        },
                        secondary: {
                            500: '#8b5cf6',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .input-highlight {
            transition: all 0.3s ease;
        }
        .input-highlight:focus-within {
            box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.5);
        }
        .toggle-checkbox:checked {
            right: 0;
            background-color: #6366f1;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: rgba(99, 102, 241, 0.2);
        }
    </style>

<% end %>
